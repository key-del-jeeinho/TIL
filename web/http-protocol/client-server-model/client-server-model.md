# Client-Server-Model | 2021-10-06
## What is That?
> 클라인트 서버...뭐라고요?

클라이언트 서버 모델이란, **서비스 요청자(Clinet) 와 서비스 자원 제공자(Server) 간의 작업을 분리해주는 분산 애플리케이션 구조이자 네트워크 아키텍처**이다.
![](https://media.vlpt.us/images/two_jay/post/45d20c5f-b1bd-4966-bfe8-96d058c24f55/%EC%9C%BC%EC%99%95.png)
### Client
- 서버와 이어진 모든 **단말기**와, 단말기에서 이용하는 **서버에 접근하귀 위한 SW**(웹의 브라우저) 를 지칭한다
- 통상적으로 브라우저를 사용하나, LeagueOfLegend(LOL) 같은 게임은 별도의 클라이언트가 서버랑 호응하는 경우도 있다.
- 사용자의 입력을 주로 처리하며, 사용자의 요구를 서버로 전송한다
### Server
- 웹페이지, 사이트, 앱 등 **서비스의 자원(Resource) 를 저장하는 매체**이다.
- 클라이언트의 요청을 받아서 처리하고, 클라이언트에 응답을 보낸다
- 어떠한 형태던, 클라이언트의 요청을 받아 정보를 제공한다면 서버컴퓨터로 본다 (ex, localhost 구동기 측면에서의 노트북)
### Message Pattern
- 클라이언트와 서버가 서로 **요청/응답하는 패턴**을 의미한다
- 클라이언트는 서버의 'API' 라는 인터페이스를 통해 서버에 정보를 요청하고, 이때 서버로부터 받은 응답을 처리하여 가공된 자원을 출력한다
- 클라이언트와 서버는 일정하게 정해진 어플리케이션 프로토콜에 따라 요청과 응답을 주고받는다
- 웹브라우저와 웹 서버간의 어플리케이션 프로토콜로는 주로 http/https 가사용된다
### DNS
Domain Name Server 의 약자로, DomainName 을 통해 클라이언트가 접속할 **서버의 주소**를 표현하는 방식이다
- 원래 서버의 주소값은 8bit 숫자 3개로 구성된 ip 주소로 표현하지만, 숫자로된 IP 주소의 가독성이 낮아 영문주소로 접근할 수 있게 하였으며 이때 해당 영문주소를 DomainName 이라한다
- 어떤 도메인 주소로 홈페이지에 대한 정보를 얻고자 하면, 해당 DNS 로 접근하여 IP주소를 확인 한 후, 그 IP 주소의 서버로 가서 홈페이지에 대한 정보를 요청한다.
### 패킷
- 서버에서 클라이언트로 **데이터를 전송할 때 쓰는 단위**이다
- 다량의 데이터를 분할하지 않고 보내면 한번에 한 사용자만 데이터를 보내는 blocking 상태에 빠지거나, 데이터손실이 발생할 수 있다. 이를 해결하기위해 전체 데이터를 일정 길이로 쪼개서 클라이언트에 보내는데 이를 패킷이라한다
- 패킷은 Client 의 정보가 담긴 `해더`, Client에 보낼 정보가 담긴 `데이터`, 에러정보가 기록된 `테일러` 로 나뉜다
- 전체 데이터를 서버에서 적절한 길이로 잘라낸 다음, 패킷으로 Client에 보낸 뒤에, 이를 다시 Client에서 재조립하여 원래의 데이터로 만든다
- 수신처의 정보가 존재하고 에러체크를 지원해 신뢰성이 높으며, 표준화된 프로토콜을 사용한다
- 단, 수신처의 정보를 담고 있기 때문에 보안 취약점이 존재한다. 이를 해결하기위해 패킷암호화를 지원한다

## How it works? (in HTTP)
> Client Server 모델은 어떻게 작동하나요?
1. 사용자가 클라이언트를 이용해 어떠한 자원을 얻고자 한다. 이때, 브라우저가 자원이 있는 서버의 주소를 찾는다
2. Http 요청메세지로 변환된 클라이언트의 명령을 TCP/IP 연결을 통해 서버에 보낸다.
3. 서버가 클라이언트의 요청을 받는다. 요청이 성공저긍로 수행되었다면 '200 OK' 라는 상태코드를 띄우고, 이 외의 경우에도 적절한 상태코드를 반환한다
4. 서버에서 데이터 패킷 형태로 변환된 리소스를 클라이언트에게 반환한다 (이때, 전송할 리소스는 클라이언트의 요청메세지에 기반한다)
5. 브라우저에서 전송받은 데이터 패킷들을 원하는 형태의 자원으로 재조립하여 화면에 출력한다
6. 사용자의 요구에 따라, 해당 과정을 계속하여 반복한다.

## Tree's Leaf | 좀 더 깊게 파고들 것들
- Kind of "Message Patterns"
- Details of "패킷
- HTTP vs HTTPS